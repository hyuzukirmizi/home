{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */import{useRef}from\"react\";import{useIsomorphicLayoutEffect}from\"./useIsomorphicLayoutEffect\";var isBrowser=typeof window!==\"undefined\";function getScrollPosition(_ref){var element=_ref.element,useWindow=_ref.useWindow;if(!isBrowser)return{x:0,y:0};var target=element?element.current:document.body;var position=target.getBoundingClientRect();return useWindow?{x:window.scrollX,y:window.scrollY}:{x:position.left,y:position.top};}export function useScrollPosition(effect,deps,element,useWindow,wait){var position=useRef(getScrollPosition({useWindow:useWindow}));var throttleTimeout=null;var callBack=function callBack(){var currPos=getScrollPosition({element:element,useWindow:useWindow});effect({prevPos:position.current,currPos:currPos});position.current=currPos;throttleTimeout=null;};useIsomorphicLayoutEffect(function(){if(!isBrowser){return;}var handleScroll=function handleScroll(){if(wait){if(throttleTimeout===null){throttleTimeout=setTimeout(callBack,wait);}}else{callBack();}};window.addEventListener(\"scroll\",handleScroll);return function(){window.removeEventListener(\"scroll\",handleScroll);throttleTimeout&&clearTimeout(throttleTimeout);};},deps);}useScrollPosition.defaultProps={deps:[],element:false,useWindow:false,wait:null};","map":{"version":3,"names":["useRef","useIsomorphicLayoutEffect","isBrowser","window","getScrollPosition","_ref","element","useWindow","x","y","target","current","document","body","position","getBoundingClientRect","scrollX","scrollY","left","top","useScrollPosition","effect","deps","wait","throttleTimeout","callBack","currPos","prevPos","handleScroll","setTimeout","addEventListener","removeEventListener","clearTimeout","defaultProps"],"sources":["C:/GITHUB/home/src/hooks/useScrollPosition.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useRef } from \"react\";\r\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect\";\r\n\r\nconst isBrowser = typeof window !== `undefined`;\r\n\r\nfunction getScrollPosition({ element, useWindow }) {\r\n  if (!isBrowser) return { x: 0, y: 0 };\r\n\r\n  const target = element ? element.current : document.body;\r\n  const position = target.getBoundingClientRect();\r\n\r\n  return useWindow\r\n    ? { x: window.scrollX, y: window.scrollY }\r\n    : { x: position.left, y: position.top };\r\n}\r\n\r\nexport function useScrollPosition(effect, deps, element, useWindow, wait) {\r\n  const position = useRef(getScrollPosition({ useWindow }));\r\n\r\n  let throttleTimeout = null;\r\n\r\n  const callBack = () => {\r\n    const currPos = getScrollPosition({ element, useWindow });\r\n    effect({ prevPos: position.current, currPos });\r\n    position.current = currPos;\r\n    throttleTimeout = null;\r\n  };\r\n\r\n  useIsomorphicLayoutEffect(() => {\r\n    if (!isBrowser) {\r\n      return;\r\n    }\r\n\r\n    const handleScroll = () => {\r\n      if (wait) {\r\n        if (throttleTimeout === null) {\r\n          throttleTimeout = setTimeout(callBack, wait);\r\n        }\r\n      } else {\r\n        callBack();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleScroll);\r\n      throttleTimeout && clearTimeout(throttleTimeout);\r\n    };\r\n  }, deps);\r\n}\r\n\r\nuseScrollPosition.defaultProps = {\r\n  deps: [],\r\n  element: false,\r\n  useWindow: false,\r\n  wait: null,\r\n};\r\n"],"mappings":"AAAA,gDACA,OAASA,MAAM,KAAQ,OAAO,CAC9B,OAASC,yBAAyB,KAAQ,6BAA6B,CAEvE,GAAM,CAAAC,SAAS,CAAG,MAAO,CAAAC,MAAM,cAAgB,CAE/C,QAAS,CAAAC,iBAAiBA,CAAAC,IAAA,CAAyB,IAAtB,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,SAAS,CAAAF,IAAA,CAATE,SAAS,CAC7C,GAAI,CAACL,SAAS,CAAE,MAAO,CAAEM,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAErC,GAAM,CAAAC,MAAM,CAAGJ,OAAO,CAAGA,OAAO,CAACK,OAAO,CAAGC,QAAQ,CAACC,IAAI,CACxD,GAAM,CAAAC,QAAQ,CAAGJ,MAAM,CAACK,qBAAqB,CAAC,CAAC,CAE/C,MAAO,CAAAR,SAAS,CACZ,CAAEC,CAAC,CAAEL,MAAM,CAACa,OAAO,CAAEP,CAAC,CAAEN,MAAM,CAACc,OAAQ,CAAC,CACxC,CAAET,CAAC,CAAEM,QAAQ,CAACI,IAAI,CAAET,CAAC,CAAEK,QAAQ,CAACK,GAAI,CAAC,CAC3C,CAEA,MAAO,SAAS,CAAAC,iBAAiBA,CAACC,MAAM,CAAEC,IAAI,CAAEhB,OAAO,CAAEC,SAAS,CAAEgB,IAAI,CAAE,CACxE,GAAM,CAAAT,QAAQ,CAAGd,MAAM,CAACI,iBAAiB,CAAC,CAAEG,SAAS,CAATA,SAAU,CAAC,CAAC,CAAC,CAEzD,GAAI,CAAAiB,eAAe,CAAG,IAAI,CAE1B,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrB,GAAM,CAAAC,OAAO,CAAGtB,iBAAiB,CAAC,CAAEE,OAAO,CAAPA,OAAO,CAAEC,SAAS,CAATA,SAAU,CAAC,CAAC,CACzDc,MAAM,CAAC,CAAEM,OAAO,CAAEb,QAAQ,CAACH,OAAO,CAAEe,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAC9CZ,QAAQ,CAACH,OAAO,CAAGe,OAAO,CAC1BF,eAAe,CAAG,IAAI,CACxB,CAAC,CAEDvB,yBAAyB,CAAC,UAAM,CAC9B,GAAI,CAACC,SAAS,CAAE,CACd,OACF,CAEA,GAAM,CAAA0B,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,GAAIL,IAAI,CAAE,CACR,GAAIC,eAAe,GAAK,IAAI,CAAE,CAC5BA,eAAe,CAAGK,UAAU,CAACJ,QAAQ,CAAEF,IAAI,CAAC,CAC9C,CACF,CAAC,IAAM,CACLE,QAAQ,CAAC,CAAC,CACZ,CACF,CAAC,CAEDtB,MAAM,CAAC2B,gBAAgB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CAE/C,MAAO,WAAM,CACXzB,MAAM,CAAC4B,mBAAmB,CAAC,QAAQ,CAAEH,YAAY,CAAC,CAClDJ,eAAe,EAAIQ,YAAY,CAACR,eAAe,CAAC,CAClD,CAAC,CACH,CAAC,CAAEF,IAAI,CAAC,CACV,CAEAF,iBAAiB,CAACa,YAAY,CAAG,CAC/BX,IAAI,CAAE,EAAE,CACRhB,OAAO,CAAE,KAAK,CACdC,SAAS,CAAE,KAAK,CAChBgB,IAAI,CAAE,IACR,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}