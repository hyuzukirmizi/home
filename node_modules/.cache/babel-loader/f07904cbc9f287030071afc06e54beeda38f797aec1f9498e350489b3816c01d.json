{"ast":null,"code":"import _regeneratorRuntime from\"C:/GITHUB/home/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"C:/GITHUB/home/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _toConsumableArray from\"C:/GITHUB/home/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/GITHUB/home/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/GITHUB/home/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useCallback}from\"react\";import Container from\"react-bootstrap/Container\";import{Jumbotron}from\"./migration\";import Row from\"react-bootstrap/Row\";import ProjectCard from\"./ProjectCard\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var dummyProject={name:null,description:null,svn_url:null,stargazers_count:null,languages_url:null,pushed_at:null};var API=\"https://api.github.com\";// const gitHubQuery = \"/repos?sort=updated&direction=desc\";\n// const specficQuerry = \"https://api.github.com/repos/hashirshoaeb/\";\nvar Project=function Project(_ref){var heading=_ref.heading,username=_ref.username,length=_ref.length,specfic=_ref.specfic;var allReposAPI=\"\".concat(API,\"/users/\").concat(username,\"/repos?sort=updated&direction=desc\");var specficReposAPI=\"\".concat(API,\"/repos/\").concat(username);var dummyProjectsArr=new Array(length+specfic.length).fill(dummyProject);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),projectsArray=_useState2[0],setProjectsArray=_useState2[1];var fetchRepos=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var repoList,response,_iterator,_step,repoName,_response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:repoList=[];_context.prev=1;_context.next=4;return axios.get(allReposAPI);case 4:response=_context.sent;// slicing to the length\nrepoList=_toConsumableArray(response.data.slice(0,length));// adding specified repos\n_context.prev=6;_iterator=_createForOfIteratorHelper(specfic);_context.prev=8;_iterator.s();case 10:if((_step=_iterator.n()).done){_context.next=18;break;}repoName=_step.value;_context.next=14;return axios.get(\"\".concat(specficReposAPI,\"/\").concat(repoName));case 14:_response=_context.sent;repoList.push(_response.data);case 16:_context.next=10;break;case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](8);_iterator.e(_context.t0);case 23:_context.prev=23;_iterator.f();return _context.finish(23);case 26:_context.next=31;break;case 28:_context.prev=28;_context.t1=_context[\"catch\"](6);console.error(_context.t1.message);case 31:// setting projectArray\n// TODO: remove the duplication.\nsetProjectsArray(repoList);_context.next=37;break;case 34:_context.prev=34;_context.t2=_context[\"catch\"](1);console.error(_context.t2.message);case 37:case\"end\":return _context.stop();}},_callee,null,[[1,34],[6,28],[8,20,23,26]]);})),[allReposAPI,length,specfic,specficReposAPI]);useEffect(function(){fetchRepos();},[fetchRepos]);return/*#__PURE__*/_jsx(Jumbotron,{fluid:true,id:\"projects\",className:\"bg-light m-0\",children:/*#__PURE__*/_jsxs(Container,{className:\"\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"display-4 pb-5 text-center\",children:heading}),/*#__PURE__*/_jsx(Row,{children:projectsArray.length?projectsArray.map(function(project,index){return/*#__PURE__*/_jsx(ProjectCard,{id:\"project-card-\".concat(index),value:project},\"project-card-\".concat(index));}):dummyProjectsArr.map(function(project,index){return/*#__PURE__*/_jsx(ProjectCard,{id:\"dummy-\".concat(index),value:project},\"dummy-\".concat(index));})})]})});};export default Project;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Jumbotron","Row","ProjectCard","axios","jsx","_jsx","jsxs","_jsxs","dummyProject","name","description","svn_url","stargazers_count","languages_url","pushed_at","API","Project","_ref","heading","username","length","specfic","allReposAPI","concat","specficReposAPI","dummyProjectsArr","Array","fill","_useState","_useState2","_slicedToArray","projectsArray","setProjectsArray","fetchRepos","_asyncToGenerator","_regeneratorRuntime","mark","_callee","repoList","response","_iterator","_step","repoName","_response","wrap","_callee$","_context","prev","next","get","sent","_toConsumableArray","data","slice","_createForOfIteratorHelper","s","n","done","value","push","t0","e","f","finish","t1","console","error","message","t2","stop","fluid","id","className","children","map","project","index"],"sources":["C:/GITHUB/home/src/components/home/Project.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport { Jumbotron } from \"./migration\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport ProjectCard from \"./ProjectCard\";\r\nimport axios from \"axios\";\r\n\r\nconst dummyProject = {\r\n  name: null,\r\n  description: null,\r\n  svn_url: null,\r\n  stargazers_count: null,\r\n  languages_url: null,\r\n  pushed_at: null,\r\n};\r\nconst API = \"https://api.github.com\";\r\n// const gitHubQuery = \"/repos?sort=updated&direction=desc\";\r\n// const specficQuerry = \"https://api.github.com/repos/hashirshoaeb/\";\r\n\r\nconst Project = ({ heading, username, length, specfic }) => {\r\n  const allReposAPI = `${API}/users/${username}/repos?sort=updated&direction=desc`;\r\n  const specficReposAPI = `${API}/repos/${username}`;\r\n  const dummyProjectsArr = new Array(length + specfic.length).fill(\r\n    dummyProject\r\n  );\r\n\r\n  const [projectsArray, setProjectsArray] = useState([]);\r\n\r\n  const fetchRepos = useCallback(async () => {\r\n    let repoList = [];\r\n    try {\r\n      // getting all repos\r\n      const response = await axios.get(allReposAPI);\r\n      // slicing to the length\r\n      repoList = [...response.data.slice(0, length)];\r\n      // adding specified repos\r\n      try {\r\n        for (let repoName of specfic) {\r\n          const response = await axios.get(`${specficReposAPI}/${repoName}`);\r\n          repoList.push(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(error.message);\r\n      }\r\n      // setting projectArray\r\n      // TODO: remove the duplication.\r\n      setProjectsArray(repoList);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  }, [allReposAPI, length, specfic, specficReposAPI]);\r\n\r\n  useEffect(() => {\r\n    fetchRepos();\r\n  }, [fetchRepos]);\r\n\r\n  return (\r\n    <Jumbotron fluid id=\"projects\" className=\"bg-light m-0\">\r\n      <Container className=\"\">\r\n        <h2 className=\"display-4 pb-5 text-center\">{heading}</h2>\r\n        <Row>\r\n          {projectsArray.length\r\n            ? projectsArray.map((project, index) => (\r\n              <ProjectCard\r\n                key={`project-card-${index}`}\r\n                id={`project-card-${index}`}\r\n                value={project}\r\n              />\r\n            ))\r\n            : dummyProjectsArr.map((project, index) => (\r\n              <ProjectCard\r\n                key={`dummy-${index}`}\r\n                id={`dummy-${index}`}\r\n                value={project}\r\n              />\r\n            ))}\r\n        </Row>\r\n      </Container>\r\n    </Jumbotron>\r\n  );\r\n};\r\n\r\nexport default Project;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}