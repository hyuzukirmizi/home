{"ast":null,"code":"var _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useRef } from \"react\";\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect\";\nconst isBrowser = typeof window !== `undefined`;\nfunction getScrollPosition(_ref) {\n  let {\n    element,\n    useWindow\n  } = _ref;\n  if (!isBrowser) return {\n    x: 0,\n    y: 0\n  };\n  const target = element ? element.current : document.body;\n  const position = target.getBoundingClientRect();\n  return useWindow ? {\n    x: window.scrollX,\n    y: window.scrollY\n  } : {\n    x: position.left,\n    y: position.top\n  };\n}\nexport function useScrollPosition(effect, deps, element, useWindow, wait) {\n  _s();\n  const position = useRef(getScrollPosition({\n    useWindow\n  }));\n  let throttleTimeout = null;\n  const callBack = () => {\n    const currPos = getScrollPosition({\n      element,\n      useWindow\n    });\n    effect({\n      prevPos: position.current,\n      currPos\n    });\n    position.current = currPos;\n    throttleTimeout = null;\n  };\n  useIsomorphicLayoutEffect(() => {\n    if (!isBrowser) {\n      return;\n    }\n    const handleScroll = () => {\n      if (wait) {\n        if (throttleTimeout === null) {\n          throttleTimeout = setTimeout(callBack, wait);\n        }\n      } else {\n        callBack();\n      }\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      throttleTimeout && clearTimeout(throttleTimeout);\n    };\n  }, deps);\n}\n_s(useScrollPosition, \"k3zHyQZ1uSsFBa6u3RPtD4qKZz4=\", false, function () {\n  return [useIsomorphicLayoutEffect];\n});\nuseScrollPosition.defaultProps = {\n  deps: [],\n  element: false,\n  useWindow: false,\n  wait: null\n};","map":{"version":3,"names":["useRef","useIsomorphicLayoutEffect","isBrowser","window","getScrollPosition","_ref","element","useWindow","x","y","target","current","document","body","position","getBoundingClientRect","scrollX","scrollY","left","top","useScrollPosition","effect","deps","wait","_s","throttleTimeout","callBack","currPos","prevPos","handleScroll","setTimeout","addEventListener","removeEventListener","clearTimeout","defaultProps"],"sources":["C:/GITHUB/home/src/hooks/useScrollPosition.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useRef } from \"react\";\r\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect\";\r\n\r\nconst isBrowser = typeof window !== `undefined`;\r\n\r\nfunction getScrollPosition({ element, useWindow }) {\r\n  if (!isBrowser) return { x: 0, y: 0 };\r\n\r\n  const target = element ? element.current : document.body;\r\n  const position = target.getBoundingClientRect();\r\n\r\n  return useWindow\r\n    ? { x: window.scrollX, y: window.scrollY }\r\n    : { x: position.left, y: position.top };\r\n}\r\n\r\nexport function useScrollPosition(effect, deps, element, useWindow, wait) {\r\n  const position = useRef(getScrollPosition({ useWindow }));\r\n\r\n  let throttleTimeout = null;\r\n\r\n  const callBack = () => {\r\n    const currPos = getScrollPosition({ element, useWindow });\r\n    effect({ prevPos: position.current, currPos });\r\n    position.current = currPos;\r\n    throttleTimeout = null;\r\n  };\r\n\r\n  useIsomorphicLayoutEffect(() => {\r\n    if (!isBrowser) {\r\n      return;\r\n    }\r\n\r\n    const handleScroll = () => {\r\n      if (wait) {\r\n        if (throttleTimeout === null) {\r\n          throttleTimeout = setTimeout(callBack, wait);\r\n        }\r\n      } else {\r\n        callBack();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleScroll);\r\n      throttleTimeout && clearTimeout(throttleTimeout);\r\n    };\r\n  }, deps);\r\n}\r\n\r\nuseScrollPosition.defaultProps = {\r\n  deps: [],\r\n  element: false,\r\n  useWindow: false,\r\n  wait: null,\r\n};\r\n"],"mappings":";AAAA;AACA,SAASA,MAAM,QAAQ,OAAO;AAC9B,SAASC,yBAAyB,QAAQ,6BAA6B;AAEvE,MAAMC,SAAS,GAAG,OAAOC,MAAM,KAAM,WAAU;AAE/C,SAASC,iBAAiBA,CAAAC,IAAA,EAAyB;EAAA,IAAxB;IAAEC,OAAO;IAAEC;EAAU,CAAC,GAAAF,IAAA;EAC/C,IAAI,CAACH,SAAS,EAAE,OAAO;IAAEM,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC;EAErC,MAAMC,MAAM,GAAGJ,OAAO,GAAGA,OAAO,CAACK,OAAO,GAAGC,QAAQ,CAACC,IAAI;EACxD,MAAMC,QAAQ,GAAGJ,MAAM,CAACK,qBAAqB,CAAC,CAAC;EAE/C,OAAOR,SAAS,GACZ;IAAEC,CAAC,EAAEL,MAAM,CAACa,OAAO;IAAEP,CAAC,EAAEN,MAAM,CAACc;EAAQ,CAAC,GACxC;IAAET,CAAC,EAAEM,QAAQ,CAACI,IAAI;IAAET,CAAC,EAAEK,QAAQ,CAACK;EAAI,CAAC;AAC3C;AAEA,OAAO,SAASC,iBAAiBA,CAACC,MAAM,EAAEC,IAAI,EAAEhB,OAAO,EAAEC,SAAS,EAAEgB,IAAI,EAAE;EAAAC,EAAA;EACxE,MAAMV,QAAQ,GAAGd,MAAM,CAACI,iBAAiB,CAAC;IAAEG;EAAU,CAAC,CAAC,CAAC;EAEzD,IAAIkB,eAAe,GAAG,IAAI;EAE1B,MAAMC,QAAQ,GAAGA,CAAA,KAAM;IACrB,MAAMC,OAAO,GAAGvB,iBAAiB,CAAC;MAAEE,OAAO;MAAEC;IAAU,CAAC,CAAC;IACzDc,MAAM,CAAC;MAAEO,OAAO,EAAEd,QAAQ,CAACH,OAAO;MAAEgB;IAAQ,CAAC,CAAC;IAC9Cb,QAAQ,CAACH,OAAO,GAAGgB,OAAO;IAC1BF,eAAe,GAAG,IAAI;EACxB,CAAC;EAEDxB,yBAAyB,CAAC,MAAM;IAC9B,IAAI,CAACC,SAAS,EAAE;MACd;IACF;IAEA,MAAM2B,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIN,IAAI,EAAE;QACR,IAAIE,eAAe,KAAK,IAAI,EAAE;UAC5BA,eAAe,GAAGK,UAAU,CAACJ,QAAQ,EAAEH,IAAI,CAAC;QAC9C;MACF,CAAC,MAAM;QACLG,QAAQ,CAAC,CAAC;MACZ;IACF,CAAC;IAEDvB,MAAM,CAAC4B,gBAAgB,CAAC,QAAQ,EAAEF,YAAY,CAAC;IAE/C,OAAO,MAAM;MACX1B,MAAM,CAAC6B,mBAAmB,CAAC,QAAQ,EAAEH,YAAY,CAAC;MAClDJ,eAAe,IAAIQ,YAAY,CAACR,eAAe,CAAC;IAClD,CAAC;EACH,CAAC,EAAEH,IAAI,CAAC;AACV;AAACE,EAAA,CAlCeJ,iBAAiB;EAAA,QAY/BnB,yBAAyB;AAAA;AAwB3BmB,iBAAiB,CAACc,YAAY,GAAG;EAC/BZ,IAAI,EAAE,EAAE;EACRhB,OAAO,EAAE,KAAK;EACdC,SAAS,EAAE,KAAK;EAChBgB,IAAI,EAAE;AACR,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}